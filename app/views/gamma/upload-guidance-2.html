{% extends "includes/guidance.html" %}

{% block head %}
  {% include "includes/head.html" %}
  <link rel="stylesheet" href="/assets/stylesheets/application.css">
{% endblock %}

{% block pageTitle %}
  How to upload products and landings for catch certificates
{% endblock %}

{% block content %}
  <main class="govuk-main-wrapper guide govuk-!-padding-top-0 govuk-!-padding-bottom-0" id="main-content">
    <main role="main" id="content" class="detailed-guide" lang="en">
      <div class="govuk-grid-row">
        <div class="govuk-grid-column-full">
          <div class="gem-c-title govuk-!-margin-top-8 govuk-!-margin-bottom-8">
            <span class="govuk-caption-xl gem-c-title__context">Guidance</span>
            <h1 class="gem-c-title__text govuk-heading-l">
              How to upload products and landings for catch certificates
            </h1>
          </div>

          <p class="gem-c-lead-paragraph">
            Upload product and landing details using a Comma Separated Values (CSV) file to speed up the process of completing your catch certificate.
          </p>

          <hr class="govuk-section-break govuk-section-break-xl govuk-section-break--visible">

          <br>

          <nav data-module="gem-track-click" aria-label="Contents" class="gem-c-contents-list govuk-!-margin-bottom-6" role="navigation">
            <h2 class="gem-c-contents-list__title">Contents</h2>
            <ol class="gem-c-contents-list__list">
              <li class="gem-c-contents-list__list-item gem-c-contents-list__list-item--dashed">
                <a class="gem-c-contents-list__link govuk-link govuk-link--no-underline" href="#how-it-works">How it works</a>
              </li>
              <li class="gem-c-contents-list__list-item gem-c-contents-list__list-item--dashed">
                <a class="gem-c-contents-list__link govuk-link govuk-link--no-underline" href="#upload-limits">Upload limits</a>
              </li>
              <li class="gem-c-contents-list__list-item gem-c-contents-list__list-item--dashed">
                <a class="gem-c-contents-list__link govuk-link govuk-link--no-underline" href="#csv-file-format">CSV file format</a>
              </li>
              <li class="gem-c-contents-list__list-item gem-c-contents-list__list-item--dashed">
                <a class="gem-c-contents-list__link govuk-link govuk-link--no-underline" href="#data-requirements">Data requirements</a>
              </li>
              <li class="gem-c-contents-list__list-item gem-c-contents-list__list-item--dashed">
                <a class="gem-c-contents-list__link govuk-link govuk-link--no-underline" href="#validation-and-troubleshooting">Validation and troubleshooting</a>
              </li>
                            <li class="gem-c-contents-list__list-item gem-c-contents-list__list-item--dashed">
                <a class="gem-c-contents-list__link govuk-link govuk-link--no-underline" href="#upload-csv">Upload your CSV file</a>
              </li>
              <li class="gem-c-contents-list__list-item gem-c-contents-list__list-item--dashed">
                <a class="gem-c-contents-list__link govuk-link govuk-link--no-underline" href="#get-help">Get help</a>
              </li>
            </ol>
          </nav>

          <h2 class="govuk-heading-m" id="how-it-works">How it works</h2>

          <ol class="gem-c-numbered-list">
            <li>
              <p>Upload your CSV file – Include product IDs and landing details in the correct format.</p>
            </li>
            <li>
              <p>Fix any errors – Clear the upload, amend your file, and reupload if needed.</p>
            </li>
            <li>
              <p>Review and correct – Add missing landings manually or correct mistakes.</p>
            </li>
          </ol>

          <p class="govuk-body">You can repeat this process to upload multiple CSV files.</p>

          <h2 class="govuk-heading-m" id="upload-limits">Upload limits</h2>
          <ul class="govuk-list govuk-list--bullet">
            <li>Maximum 100 rows per catch certificate</li>
            <li>One product per row, even if multiple products share the same landing</li>
            <li>Only products saved in your favourites can be uploaded</li>
          </ul>

          <h2 class="govuk-heading-m" id="csv-file-format">CSV file format</h2>
          <p>The file must:</p>
          <ul class="govuk-list govuk-list--bullet">
            <li>Be in CSV format (Comma Separated Values)</li>
            <li>Not include a header row</li>
            <li>Use this structure for each row:</li>
          </ul>
          <pre class="govuk-body">Product ID,Date landed,Catch area,Vessel PLN,Gear Type,Export weight</pre>
          <p><strong>Example:</strong></p>
          <pre class="govuk-body">PRD123,01/01/2021,FAO27,PH1100,PS,50.95</pre>

          <h2 class="govuk-heading-m" id="data-requirements">Data requirements</h2>
          <table class="govuk-table">
            <thead class="govuk-table__head">
              <tr class="govuk-table__row">
                <th class="govuk-table__header">Field</th>
                <th class="govuk-table__header">Requirements</th>
                <th class="govuk-table__header">Example</th>
              </tr>
            </thead>
            <tbody class="govuk-table__body">
              <tr class="govuk-table__row">
                <td class="govuk-table__cell">Product ID</td>
                <td class="govuk-table__cell">Must match a product in your favourites</td>
                <td class="govuk-table__cell">PRD123</td>
              </tr>
              <tr class="govuk-table__row">
                <td class="govuk-table__cell">Start date</td>
                <td class="govuk-table__cell">Optional. The date the vessel left port for the trip. Format: dd/mm/yyyy.</td>
                <td class="govuk-table__cell">30/12/2020</td>
              </tr>
              <tr class="govuk-table__row">
                <td class="govuk-table__cell">Date landed</td>
                <td class="govuk-table__cell">Format: dd/mm/yyyy. Cannot be more than 7 days in the future.</td>
                <td class="govuk-table__cell">01/01/2021</td>
              </tr>
              <tr class="govuk-table__row">
                <td class="govuk-table__cell">Catch area</td>
                <td class="govuk-table__cell">Must be a valid FAO major fishing area. <a href="https://www.fao.org" class="govuk-link">View FAO areas</a></td>
                <td class="govuk-table__cell">FAO27</td>
              </tr>
              <tr class="govuk-table__row">
                <td class="govuk-table__cell">Vessel PLN</td>
                <td class="govuk-table__cell">Must be valid and licensed on the landing date. <a href="https://www.fishhub.cefas.co.uk/vessel-register/" class="govuk-link">Check vessels</a></td>
                <td class="govuk-table__cell">PH1100</td>
              </tr>
              <tr class="govuk-table__row">
                <td class="govuk-table__cell">Gear Type</td>
                <td class="govuk-table__cell">Must be a valid gear code (e.g. PS for purse seine, OT for otter trawl)</td>
                <td class="govuk-table__cell">PS</td>
              </tr>
              <tr class="govuk-table__row">
                <td class="govuk-table__cell">Export weight</td>
                <td class="govuk-table__cell">In kilograms (kg), greater than 0, up to 2 decimal places</td>
                <td class="govuk-table__cell">50.95</td>
              </tr>
            </tbody>
          </table>

          <div class="govuk-warning-text">
            <span class="govuk-warning-text__icon" aria-hidden="true">!</span>
            <strong class="govuk-warning-text__text">
              <span class="govuk-visually-hidden">Warning</span>
              Under new EU regulations, it will be mandatory to provide all optional catch area and gear type information for all fishing activities by January 2026.
            </strong>
          </div>


          <h2 class="govuk-heading-m" id="validation-and-troubleshooting">Validation and troubleshooting</h2>
          <ul class="govuk-list govuk-list--bullet">
            <li>Uploaded data is validated the same way as manual entries</li>
            <li>Make a note of any failed rows before continuing</li>
            <li>You can add failed rows manually later</li>
          </ul>

           <h2 class="govuk-heading-m" id="upload-csv">Upload your CSV file</h2>
           <p class="govuk-body"><a href="../gamma/upload-file.html">Upload your CSV file.</a></p>
        </div>
      </div>
    </main>
  </main>

  <div id="get-help"></div>

  {% include "../includes/help.html" %}
{% endblock %}
